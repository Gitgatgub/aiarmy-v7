import React from 'react';
import { Link } from 'react-router-dom';
import { useAuth } from '../contexts/AuthContext';

function TopNav() {
  const { logout } = useAuth();
  
  const handleLogout = (e) => {
    e.preventDefault();
    logout();
  };

  return (
    <nav className="top-nav">
      <Link to="/settings" className="top-nav-link settings-link">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
          <path d="M16.1667 12.5C16.0558 12.7513 16.0227 13.0302 16.0718 13.3006C16.121 13.571 16.2503 13.8203 16.4417 14.0167L16.4917 14.0667C16.6466 14.2215 16.7695 14.4053 16.8535 14.6076C16.9374 14.8099 16.9806 15.0268 16.9806 15.2458C16.9806 15.4649 16.9374 15.6817 16.8535 15.8841C16.7695 16.0864 16.6466 16.2702 16.4917 16.425C16.3368 16.58 16.153 16.7028 15.9507 16.7868C15.7484 16.8708 15.5315 16.9139 15.3125 16.9139C15.0935 16.9139 14.8766 16.8708 14.6743 16.7868C14.472 16.7028 14.2882 16.58 14.1333 16.425L14.0833 16.375C13.887 16.1836 13.6376 16.0543 13.3673 16.0052C13.0969 15.956 12.818 15.9891 12.5667 16.1C12.3202 16.2057 12.111 16.3811 11.9656 16.6046C11.8203 16.828 11.7454 17.0898 11.75 17.3583V17.5C11.75 17.9421 11.5743 18.366 11.2618 18.6785C10.9493 18.9911 10.5254 19.1667 10.0833 19.1667C9.64131 19.1667 9.21738 18.9911 8.90482 18.6785C8.59226 18.366 8.41667 17.9421 8.41667 17.5V17.425C8.39877 17.1492 8.29914 16.8844 8.12963 16.6627C7.96012 16.441 7.72745 16.2717 7.45833 16.175C7.20703 16.0641 6.92812 16.031 6.65774 16.0802C6.38735 16.1293 6.13795 16.2586 5.94167 16.45L5.89167 16.5C5.73681 16.655 5.55301 16.7778 5.35068 16.8618C5.14835 16.9458 4.93147 16.9889 4.7125 16.9889C4.49353 16.9889 4.27665 16.9458 4.07432 16.8618C3.87199 16.7778 3.68819 16.655 3.53333 16.5C3.37838 16.3451 3.25554 16.1613 3.17155 15.959C3.08756 15.7567 3.04449 15.5398 3.04449 15.3208C3.04449 15.1019 3.08756 14.885 3.17155 14.6827C3.25554 14.4803 3.37838 14.2965 3.53333 14.1417L3.58333 14.0917C3.77476 13.8954 3.90401 13.646 3.95319 13.3756C4.00237 13.1053 3.96926 12.8263 3.85833 12.575C3.75258 12.3285 3.57725 12.1194 3.35382 11.974C3.13038 11.8286 2.86861 11.7537 2.6 11.7583H2.5C2.05797 11.7583 1.63405 11.5827 1.32149 11.2702C1.00893 10.9576 0.833333 10.5337 0.833333 10.0917C0.833333 9.64964 1.00893 9.22572 1.32149 8.91316C1.63405 8.6006 2.05797 8.425 2.5 8.425H2.575C2.85084 8.4071 3.11564 8.30747 3.33732 8.13796C3.559 7.96845 3.72833 7.73578 3.825 7.46667C3.93593 7.21536 3.96903 6.93645 3.91986 6.66607C3.87069 6.39568 3.74141 6.14628 3.55 5.95L3.5 5.9C3.34505 5.74514 3.22221 5.56134 3.13822 5.35901C3.05423 5.15668 3.01115 4.9398 3.01115 4.72083C3.01115 4.50187 3.05423 4.28499 3.13822 4.08266C3.22221 3.88033 3.34505 3.69653 3.5 3.54167C3.65486 3.38671 3.83866 3.26388 4.04099 3.17989C4.24332 3.0959 4.4602 3.05282 4.67917 3.05282C4.89813 3.05282 5.11501 3.0959 5.31734 3.17989C5.51967 3.26388 5.70347 3.38671 5.85833 3.54167L5.90833 3.59167C6.10462 3.78309 6.35402 3.91235 6.6244 3.96152C6.89479 4.0107 7.1737 3.9776 7.425 3.86667H7.5C7.74651 3.76092 7.95566 3.58558 8.10101 3.36215C8.24637 3.13871 8.32139 2.87694 8.31667 2.60833V2.5C8.31667 2.05797 8.49226 1.63405 8.80482 1.32149C9.11738 1.00893 9.54131 0.833333 9.98333 0.833333C10.4254 0.833333 10.8493 1.00893 11.1618 1.32149C11.4744 1.63405 11.65 2.05797 11.65 2.5V2.575C11.6453 2.84361 11.7203 3.10538 11.8657 3.32882C12.011 3.55225 12.2202 3.7276 12.4667 3.83333C12.718 3.94426 12.9969 3.97737 13.2673 3.9282C13.5377 3.87902 13.7871 3.74975 13.9833 3.55833L14.0333 3.50833C14.1882 3.35338 14.372 3.23054 14.5743 3.14655C14.7766 3.06256 14.9935 3.01949 15.2125 3.01949C15.4315 3.01949 15.6484 3.06256 15.8507 3.14655C16.053 3.23054 16.2368 3.35338 16.3917 3.50833C16.5466 3.66319 16.6695 3.84699 16.7535 4.04932C16.8374 4.25165 16.8805 4.46853 16.8805 4.6875C16.8805 4.90647 16.8374 5.12335 16.7535 5.32568C16.6695 5.52801 16.5466 5.71181 16.3917 5.86667L16.3417 5.91667C16.1502 6.11295 16.021 6.36235 15.9718 6.63274C15.9226 6.90312 15.9557 7.18203 16.0667 7.43333V7.5C16.1724 7.74651 16.3478 7.95566 16.5712 8.10101C16.7946 8.24637 17.0564 8.32139 17.325 8.31667H17.5C17.942 8.31667 18.366 8.49226 18.6785 8.80482C18.9911 9.11738 19.1667 9.54131 19.1667 9.98333C19.1667 10.4254 18.9911 10.8493 18.6785 11.1618C18.366 11.4744 17.942 11.65 17.5 11.65H17.425C17.1564 11.6453 16.8946 11.7203 16.6712 11.8657C16.4477 12.011 16.2724 12.2202 16.1667 12.4667V12.5Z" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
        </svg>
        <span>Settings</span>
      </Link>
      <button 
        onClick={handleLogout} 
        className="logout-button"
        type="button"
      >
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M7.5 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V4.16667C2.5 3.72464 2.67559 3.30072 2.98816 2.98816C3.30072 2.67559 3.72464 2.5 4.16667 2.5H7.5" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
          <path d="M13.3333 14.1667L17.5 10L13.3333 5.83334" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
          <path d="M17.5 10H7.5" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
        </svg>
        <span>Log Out</span>
      </button>
    </nav>
  );
}

export default TopNav;